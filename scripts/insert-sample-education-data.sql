-- 教育コンテンツのサンプルデータ投入スクリプト
-- 注意: このスクリプトを実行する前に、create-education-tables.sql を実行してください

-- 既存のデータをクリア（必要に応じてコメントアウト）
-- DELETE FROM education_contents;
-- DELETE FROM education_chapters;

-- チャプターが存在しない場合は作成
INSERT INTO education_chapters (chapter_number, title, category, icon, description) VALUES
(1, '初心者編', 'beginner', '🌱', '美容師としての基本的なスキルと心構えを学びます'),
(2, '経営編', 'management', '💼', '美容室経営に必要な知識とノウハウを習得します'),
(3, 'DX・テクノロジー編', 'dx', '🚀', '最新技術を活用した美容室運営を学びます'),
(4, '総合スキルアップ編', 'general', '🎯', '美容師としての総合的なスキル向上を目指します')
ON CONFLICT (chapter_number) DO NOTHING;

-- 教育コンテンツのサンプルデータを投入
-- 初心者編のコンテンツ
INSERT INTO education_contents (
  chapter_id,
  article_number,
  title,
  slug,
  content,
  preview_content,
  excerpt,
  is_premium,
  access_level,
  reading_time,
  featured_image,
  status,
  publish_date,
  seo_title,
  seo_description
) VALUES
-- 記事1: 美容師としての第一歩
(
  (SELECT id FROM education_chapters WHERE chapter_number = 1),
  1,
  '美容師としての第一歩：基本的な心構えと準備',
  'hairstylist-first-step',
  '## はじめに

美容師という職業は、単に髪を切るだけではありません。お客様の人生の大切な瞬間に寄り添い、美しさと自信を提供する素晴らしい仕事です。

### 美容師に必要な心構え

1. **お客様第一主義**
   - 常にお客様の立場に立って考える
   - 要望をしっかりと聞き取る姿勢
   - 期待を超えるサービスの提供

2. **継続的な学習姿勢**
   - トレンドの変化に敏感になる
   - 新しい技術の習得
   - 先輩から謙虚に学ぶ

3. **プロフェッショナルとしての自覚**
   - 時間厳守
   - 清潔感のある身だしなみ
   - 責任感を持った行動

### 基本的な準備

美容師として働き始める前に、以下の準備が必要です：

- **道具の準備**：シザー、コーム、ブラシなどの基本道具
- **知識の習得**：髪質、薬剤、カラー理論などの基礎知識
- **技術の練習**：カット、カラー、パーマの基本技術

### まとめ

美容師としての第一歩は、技術だけでなく心構えから始まります。お客様に喜んでいただくことを最優先に、日々成長していきましょう。',
  '美容師という職業は、単に髪を切るだけではありません。お客様の人生の大切な瞬間に寄り添い、美しさと自信を提供する素晴らしい仕事です。',
  '美容師としてのキャリアをスタートするための基本的な心構えと準備について解説します。',
  false,
  'free',
  5,
  'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '30 days',
  '美容師としての第一歩：基本的な心構えと準備 | FLEEKS',
  '美容師としてのキャリアをスタートするための基本的な心構えと準備について、初心者向けに分かりやすく解説します。'
),

-- 記事2: カウンセリングの基本
(
  (SELECT id FROM education_chapters WHERE chapter_number = 1),
  2,
  'お客様との信頼関係を築くカウンセリング術',
  'counseling-basics',
  '## カウンセリングの重要性

美容師にとって、カウンセリングは施術の成功を左右する最も重要なプロセスです。

### 効果的なカウンセリングの流れ

1. **お出迎えと雰囲気作り**
   - 笑顔での挨拶
   - リラックスできる環境作り
   - 適切な距離感の保持

2. **ヒアリングのポイント**
   - オープンクエスチョンの活用
   - 具体的なイメージの確認
   - ライフスタイルの把握

3. **提案とすり合わせ**
   - プロとしての提案
   - お客様の要望との調整
   - 施術内容の最終確認

### カウンセリングシートの活用

効率的なカウンセリングのために、以下の項目を含むシートを準備しましょう：

- 基本情報（名前、連絡先）
- 髪質・頭皮の状態
- アレルギーの有無
- 普段のスタイリング方法
- 理想のスタイル

### コミュニケーションのコツ

- **傾聴の姿勢**：話を最後まで聞く
- **共感の表現**：お客様の気持ちに寄り添う
- **専門用語の回避**：分かりやすい言葉で説明

### まとめ

カウンセリングは技術以上に重要な要素です。お客様との信頼関係を築き、満足度の高いサービスを提供しましょう。',
  '美容師にとって、カウンセリングは施術の成功を左右する最も重要なプロセスです。効果的なカウンセリングの流れとコツを解説します。',
  'お客様との信頼関係を築くための効果的なカウンセリング術について詳しく解説します。',
  false,
  'free',
  7,
  'https://images.unsplash.com/photo-1581404917879-53e19259fdda?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '25 days',
  'お客様との信頼関係を築くカウンセリング術 | FLEEKS',
  '美容師として成功するための効果的なカウンセリング方法とコミュニケーションのコツを詳しく解説します。'
),

-- 記事3: シャンプーテクニック（一部プレミアム）
(
  (SELECT id FROM education_chapters WHERE chapter_number = 1),
  3,
  'プロが教えるシャンプーテクニックの極意',
  'shampoo-technique',
  '## シャンプーの基本と重要性

シャンプーは単なる洗髪ではなく、お客様にリラックスしていただく大切な時間です。

### 基本的なシャンプーの流れ

1. **予洗い**
   - 適温（38-40度）のお湯で十分に濡らす
   - 頭皮全体にお湯を行き渡らせる

2. **シャンプー剤の使用**
   - 適量を手に取り泡立てる
   - 頭皮を中心に洗浄

3. **マッサージテクニック**
   - 指の腹を使った優しい動き
   - リズミカルな動作

### 上級テクニック（プレミアム会員限定）

[プレミアム会員の方は、以下の内容もご覧いただけます]

- ヘッドスパの基本手技
- ツボを意識したマッサージ
- お客様を虜にする特別なテクニック

プレミアム会員になると、より詳細なテクニックと動画解説をご覧いただけます。',
  'シャンプーは単なる洗髪ではなく、お客様にリラックスしていただく大切な時間です。基本的な流れと注意点を解説します。',
  'プロのシャンプーテクニックの基本から上級技術まで、段階的に解説します。',
  true,
  'partial',
  6,
  'https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '20 days',
  'プロが教えるシャンプーテクニックの極意 | FLEEKS',
  'お客様を魅了するプロのシャンプーテクニックを基本から上級まで詳しく解説。一部プレミアム会員限定コンテンツ。'
),

-- 経営編のコンテンツ
-- 記事4: 美容室開業の準備
(
  (SELECT id FROM education_chapters WHERE chapter_number = 2),
  4,
  '美容室開業までのロードマップ',
  'salon-opening-roadmap',
  '## 美容室開業の夢を実現するために

美容室の開業は多くの美容師の夢です。しかし、準備不足での開業は失敗のリスクを高めます。

### 開業までのステップ

1. **事業計画の作成**
   - ターゲット顧客の明確化
   - 競合分析
   - 収支計画の策定

2. **資金調達**
   - 必要資金の算出
   - 融資の検討
   - 補助金・助成金の活用

3. **物件選び**
   - 立地の重要性
   - 賃料と売上のバランス
   - 内装工事の見積もり

### 必要な手続き

- 保健所への届出
- 税務署への開業届
- 社会保険の手続き
- 美容師免許の確認

### 開業資金の目安

一般的な美容室開業には以下の費用が必要です：

- 物件取得費：100-300万円
- 内装工事費：300-800万円
- 設備・備品：200-500万円
- 運転資金：200-300万円

### 成功のポイント

開業を成功させるためには、技術力だけでなく経営者としての視点が必要です。',
  '美容室の開業は多くの美容師の夢です。開業までの具体的なステップと必要な準備について解説します。',
  '美容室開業を成功させるための具体的なロードマップと準備事項を詳しく解説します。',
  true,
  'premium',
  10,
  'https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '15 days',
  '美容室開業までのロードマップ | FLEEKS',
  '美容室開業を目指す方のための完全ガイド。必要な準備、資金調達、手続きまで詳しく解説します。'
),

-- 記事5: 集客戦略
(
  (SELECT id FROM education_chapters WHERE chapter_number = 2),
  5,
  '売上を伸ばす集客戦略の基本',
  'customer-acquisition-strategy',
  '## 効果的な集客で売上アップ

美容室経営において、集客は売上に直結する最重要課題です。

### オンライン集客

1. **SNSマーケティング**
   - Instagram：ビフォーアフター写真の投稿
   - LINE：予約システムとの連携
   - TikTok：トレンドを活用した動画

2. **Google対策**
   - Googleマイビジネスの最適化
   - 口コミの獲得と返信
   - SEO対策

3. **ホームページ活用**
   - スマホ対応
   - 予約システムの導入
   - スタッフ紹介の充実

### オフライン集客

- チラシ配布
- 紹介キャンペーン
- 地域イベントへの参加

### リピーター獲得

新規集客以上に重要なのがリピーター獲得です：

- 次回予約の促進
- メンバーズカードの活用
- 定期的なフォローアップ

### まとめ

集客は一朝一夕には成果が出ません。継続的な努力と改善が成功への鍵です。',
  '美容室経営において、集客は売上に直結する最重要課題です。オンライン・オフラインの効果的な集客方法を解説します。',
  '美容室の売上を伸ばすための効果的な集客戦略について、具体的な方法を解説します。',
  true,
  'premium',
  8,
  'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '10 days',
  '売上を伸ばす集客戦略の基本 | FLEEKS',
  '美容室の売上アップに直結する効果的な集客戦略。SNS活用からリピーター獲得まで具体的に解説。'
),

-- DX・テクノロジー編のコンテンツ
-- 記事6: デジタルツールの活用
(
  (SELECT id FROM education_chapters WHERE chapter_number = 3),
  6,
  '美容室経営を効率化するデジタルツール',
  'digital-tools-for-salon',
  '## デジタル化で業務効率を大幅改善

現代の美容室経営において、デジタルツールの活用は必須です。

### 予約管理システム

1. **オンライン予約のメリット**
   - 24時間予約受付
   - 予約の自動確認
   - キャンセル待ち機能

2. **おすすめツール**
   - ホットペッパービューティー
   - STORES予約
   - Reservia

### 顧客管理システム

- 来店履歴の記録
- カルテのデジタル化
- 誕生日などの自動リマインド

### POSレジシステム

- 売上の自動集計
- 在庫管理
- スタッフ別売上分析

### SNS管理ツール

効率的なSNS運用のために：

- 投稿スケジュール管理
- 複数SNSへの同時投稿
- 分析機能の活用

### 導入のポイント

デジタルツールは、スタッフ全員が使いこなせることが重要です。段階的な導入と研修を心がけましょう。',
  '現代の美容室経営において、デジタルツールの活用は必須です。業務効率を大幅に改善するツールを紹介します。',
  '美容室経営を効率化し、売上アップにつながるデジタルツールの選び方と活用方法を解説します。',
  false,
  'free',
  7,
  'https://images.unsplash.com/photo-1556761175-5973dc0f32e7?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '5 days',
  '美容室経営を効率化するデジタルツール | FLEEKS',
  '予約管理、顧客管理、POSレジなど、美容室経営に必要なデジタルツールの選び方と活用法を詳しく解説。'
),

-- 記事7: AIとの付き合い方
(
  (SELECT id FROM education_chapters WHERE chapter_number = 3),
  7,
  'AI時代の美容師に必要なスキル',
  'ai-era-hairstylist-skills',
  '## AIと共存する美容師の未来

AI技術の進化は美容業界にも大きな変化をもたらしています。

### AIが美容業界にもたらす変化

1. **バーチャル試着**
   - ARを使ったヘアスタイルシミュレーション
   - カラーシミュレーション
   - お客様の意思決定サポート

2. **需要予測**
   - 来店予測による人員配置
   - 在庫の最適化
   - 価格戦略の最適化

3. **パーソナライゼーション**
   - 個人に合わせた提案
   - 過去データからの嗜好分析
   - 最適なタイミングでのアプローチ

### AIにできないこと

美容師の価値は以下の点にあります：

- 人間的な温かみのある接客
- 創造的なデザイン提案
- 細やかな技術調整
- 心理的なサポート

### これからの美容師に必要なスキル

- デジタルリテラシー
- データ分析力
- 継続的な学習姿勢
- 人間力の向上

### まとめ

AIは脅威ではなく、美容師の仕事をサポートするツールです。上手に活用して、より価値の高いサービスを提供しましょう。',
  'AI技術の進化は美容業界にも大きな変化をもたらしています。AIと共存する美容師の未来について考察します。',
  'AI時代において美容師が持つべきスキルと、テクノロジーとの上手な付き合い方を解説します。',
  false,
  'partial',
  9,
  'https://images.unsplash.com/photo-1535378917042-10a22c95931a?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '3 days',
  'AI時代の美容師に必要なスキル | FLEEKS',
  'AI技術の進化と美容業界の未来。美容師が身につけるべきスキルと価値の創造方法を解説。'
),

-- 総合スキルアップ編
-- 記事8: トレンド分析
(
  (SELECT id FROM education_chapters WHERE chapter_number = 4),
  8,
  '2024年最新ヘアトレンド完全ガイド',
  'hair-trends-2024',
  '## 最新トレンドを押さえて差をつける

トレンドを理解し、お客様に提案できることは美容師の重要なスキルです。

### 2024年注目のヘアスタイル

1. **ナチュラルテクスチャー**
   - 自然な動きを活かしたスタイル
   - 最小限のスタイリング
   - 健康的な髪質重視

2. **ボブの進化系**
   - レイヤーボブ
   - アシンメトリーボブ
   - テクスチャーボブ

3. **カラートレンド**
   - アースカラー
   - パステルトーン
   - グラデーションカラー

### トレンドの取り入れ方

- お客様の個性に合わせてアレンジ
- 部分的な取り入れ方の提案
- メンテナンスの説明

### 情報収集の方法

トレンドをキャッチするために：

- 海外の美容雑誌
- SNSのハッシュタグ分析
- ファッションショーのチェック
- 美容展示会への参加

### まとめ

トレンドは常に変化します。柔軟な発想と継続的な学習で、お客様に新鮮な提案を続けましょう。',
  'トレンドを理解し、お客様に提案できることは美容師の重要なスキルです。2024年の最新トレンドを詳しく解説します。',
  '2024年の最新ヘアトレンドと、お客様への効果的な提案方法について解説します。',
  false,
  'free',
  6,
  'https://images.unsplash.com/photo-1522336284037-91f7da073525?w=800',
  'published',
  CURRENT_TIMESTAMP - INTERVAL '1 day',
  '2024年最新ヘアトレンド完全ガイド | FLEEKS',
  '2024年注目のヘアスタイルとカラートレンド。美容師が押さえるべき最新情報を完全網羅。'
),

-- 記事9: 高単価メニューの作り方
(
  (SELECT id FROM education_chapters WHERE chapter_number = 4),
  9,
  '売上アップ！高単価メニューの開発と販売術',
  'premium-menu-development',
  '## 高単価メニューで収益性を向上

美容室の収益性を高めるには、高単価メニューの開発が不可欠です。

### 高単価メニューの例

1. **トリートメントメニュー**
   - 髪質改善トリートメント
   - ヘッドスパ
   - スカルプケア

2. **特別な技術メニュー**
   - ハイライト・バレイヤージュ
   - デザインカラー
   - 縮毛矯正＋トリートメント

3. **トータルビューティー**
   - ヘア＋メイク
   - ブライダルパッケージ
   - VIPコース

### 価値の伝え方

高単価でも選ばれるために：

- Before/Afterの明確な提示
- 専門知識に基づく説明
- 特別感の演出
- アフターフォローの充実

### 販売のコツ

- カウンセリングでの提案タイミング
- パッケージ化による価値向上
- 限定感の演出
- スタッフ教育の徹底

### まとめ

高単価メニューは、技術力と提案力の両方が必要です。お客様にとっての価値を明確にし、自信を持って提案しましょう。',
  '美容室の収益性を高めるには、高単価メニューの開発が不可欠です。開発から販売までのノウハウを解説します。',
  '美容室の売上アップに直結する高単価メニューの開発方法と効果的な販売術を詳しく解説します。',
  true,
  'premium',
  8,
  'https://images.unsplash.com/photo-1560869713-7d0a29430803?w=800',
  'published',
  CURRENT_TIMESTAMP,
  '売上アップ！高単価メニューの開発と販売術 | FLEEKS',
  '美容室の収益性を大幅に向上させる高単価メニューの開発方法と販売戦略を公開。'
);

-- 記事の表示順を確認
SELECT 
  ec.article_number,
  ec.title,
  ec.slug,
  ec.status,
  ec.access_level,
  ec.publish_date,
  ech.title as chapter_title,
  ech.category
FROM education_contents ec
JOIN education_chapters ech ON ec.chapter_id = ech.id
ORDER BY ec.article_number;

-- 統計情報
SELECT 
  'Total Chapters' as metric,
  COUNT(*)::text as value
FROM education_chapters
UNION ALL
SELECT 
  'Total Contents' as metric,
  COUNT(*)::text as value
FROM education_contents
UNION ALL
SELECT 
  'Published Contents' as metric,
  COUNT(*)::text as value
FROM education_contents
WHERE status = 'published' AND publish_date <= CURRENT_TIMESTAMP
UNION ALL
SELECT 
  'Premium Contents' as metric,
  COUNT(*)::text as value
FROM education_contents
WHERE access_level = 'premium';